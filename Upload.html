<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Guest List</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(to bottom right, #f5f7fa, #e6eef9);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            color: #333;
            font-size: 14px;
        }
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
        .container {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 8px;
            width: 90%;
            max-width: 1000px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(3px);
            display: flex;
        }
        .sidebar {
            width: 200px;
            background: #8cabc0;
            padding: 15px;
            border-radius: 8px 0 0 8px;
            margin-right: 15px;
            text-align: center;
            height: calc(100vh - 40px);
            overflow-y: auto;
        }
        .sidebar h3 {
            font-size: 1.2em;
            margin: 0 0 15px;
            color: #fff;
            font-weight: 700;
        }
        .sidebar ul {
            list-style: none;
            padding: 0;
        }
        .sidebar ul li {
            margin: 15px 0;
        }
        .sidebar ul li a {
            text-decoration: none;
            color: #fff;
            font-size: 0.9em;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .sidebar ul li a:hover {
            opacity: 0.8;
        }
        .sidebar ul li a svg {
            margin-right: 8px;
            width: 16px;
            height: 16px;
            fill: #fff;
        }
        .content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .upload-header {
            text-align: left;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .upload-header h1 {
            font-size: 1.5em;
            margin: 0;
            color: #8cabc0;
            font-weight: 700;
        }
        .upload-header p {
            font-size: 0.9em;
            color: #6a829b;
            margin: 0;
        }
        .card {
            background: #f0f4f8;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 15px;
        }
        .card-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }
        .card-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #4a5568;
        }
        .upload-area {
            border: 2px dashed #8cabc0;
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            transition: all 0.3s;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .upload-area.drag-active {
            border-color: #f4a261;
            background: rgba(244, 162, 97, 0.1);
        }
        .file-icon {
            background: linear-gradient(to bottom right, #fed7aa, #fecaca);
            border-radius: 8px;
            padding: 5px;
            margin-bottom: 5px;
        }
        .file-icon svg {
            width: 16px;
            height: 16px;
            fill: #f97316;
        }
        .upload-text {
            font-size: 0.9em;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 2px;
        }
        .upload-subtext {
            font-size: 0.8em;
            color: #6a829b;
            margin-bottom: 8px;
        }
        .btn {
            padding: 4px 8px;
            border: none;
            border-radius: 4px;
            color: #fff;
            font-family: 'Roboto', sans-serif;
            font-size: 0.8em;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 4px;
            background: #ec4899;
        }
        .btn:hover {
            background: #db2777;
        }
        .btn svg {
            fill: #f97316;
            width: 12px;
            height: 12px;
        }
        .progress-container {
            margin-top: 10px;
            display: none;
        }
        .progress-container.active {
            display: block;
        }
        .progress {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: #f4a261;
            width: 0;
            transition: width 0.3s;
        }
        .alert {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            display: none;
        }
        .alert.error {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
        }
        .alert.success {
            background: #f0fff4;
            border: 1px solid #c6f6d5;
            color: #2f855a;
        }
        .result {
            display: none;
            margin-top: 15px;
        }
        .result.active {
            display: block;
        }
        .guest-list {
            max-height: 120px;
            overflow-y: auto;
            margin-top: 10px;
        }
        .guest-item {
            display: flex;
            justify-content: space-between;
            padding: 6px;
            background: #f7fafc;
            border-radius: 3px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h3>WeddingSeat<br>Seating Management</h3>
            <ul>
                <li><a href="index.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3L2 12h3v8h14v-8h3L12 3zm1 5h-2v4H9v2h2v4h2v-4h2v-2h-2V8z"/></svg> Dashboard</a></li>
                <li><a href="Upload.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 12"><path d="M12 12l6-6h-4V0H10v6H6l6 6z"/></svg> Upload Guests</a></li>
                <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg> Manage Guests</a></li>
                <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 13h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V7H3v2zm10 0v2h8V9h-8zm0 4h8v-2h-8v2zm0 4h8v-2h-8v2z"/></svg> Table Layout</a></li>
                <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg> Guest Search</a></li>
            </ul>
        </div>
        <div class="content">
            <div class="upload-header">
                <a href="index.html" class="btn btn-secondary" style="display: flex; align-items: center; padding: 4px; background: none; color: #8cabc0;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                </a>
                <div>
                    <h1>Upload Guest List</h1>
                    <p>Import your wedding guests from a CSV file</p>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 text-orange-500"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                    <div class="card-title">CSV File Upload</div>
                </div>
                <p class="text-stone-600 text-sm">Upload a CSV file with columns: First name, Last name, email, phone, rsvp status, table number, notes</p>
                <div class="upload-area" id="uploadArea">
                    <input type="file" accept=".csv" id="fileInput" onchange="handleFileSelect(event)" class="hidden">
                    <div class="file-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>
                    </div>
                    <div class="upload-text" id="fileName">Drop your CSV file here</div>
                    <div class="upload-subtext" id="fileStatus">or click to browse files</div>
                    <button class="btn" onclick="processCSV()" id="processBtn" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                        Process Guest List
                    </button>
                    <div class="progress-container" id="progressContainer">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-amber-600"></div>
                            <span class="text-stone-700 font-medium">Processing your guest list...</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                    </div>
                    <div class="alert error" id="errorAlert"></div>
                </div>
            </div>
            <div class="result" id="resultSection">
                <div class="card">
                    <div class="card-header">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 text-emerald-700"><path d="M9 16.2l-3.5-3.5 1.41-1.41L9 13.17l7.59-7.59L18 6.41 9 16.2z"/></svg>
                        <div class="card-title">Successfully Imported Guests</div>
                    </div>
                    <p class="text-stone-600" id="resultCount"></p>
                    <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-3 mb-4">
                        <h3 class="font-semibold text-emerald-800 mb-1">Import Summary</h3>
                        <p class="text-emerald-700" id="summaryText"></p>
                    </div>
                    <div class="guest-list" id="guestList"></div>
                    <div class="flex gap-2 mt-3">
                        <button class="btn btn-primary" onclick="window.location.href='#'">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 mr-1"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            Manage Guests
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                            Back to Dashboard
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let file = null;
        let uploading = false;
        let progress = 0;
        let result = null;
        let error = null;

        function handleDrag(e) {
            e.preventDefault();
            e.stopPropagation();
            const uploadArea = document.getElementById('uploadArea');
            if (e.type === "dragenter" || e.type === "dragover") {
                uploadArea.classList.add('drag-active');
            } else if (e.type === "dragleave") {
                uploadArea.classList.remove('drag-active');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            const uploadArea = document.getElementById('uploadArea');
            uploadArea.classList.remove('drag-active');
            const files = e.dataTransfer.files;
            if (files && files[0]) {
                handleFileSelect({ target: { files: [files[0]] } });
            }
        }

        function handleFileSelect(e) {
            const selectedFile = e.target.files[0];
            if (selectedFile && selectedFile.type === "text/csv") {
                file = selectedFile;
                document.getElementById('fileName').textContent = file.name;
                document.getElementById('fileStatus').textContent = 'Ready to process';
                document.getElementById('processBtn').style.display = 'block';
                document.getElementById('errorAlert').style.display = 'none';
                document.getElementById('resultSection').style.display = 'none';
            } else {
                setError('Please select a CSV file');
            }
        }

        function setProgress(value) {
            progress = value;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = `${progress}%`;
            if (progress === 100) {
                setTimeout(() => {
                    document.getElementById('progressContainer').style.display = 'none';
                }, 500);
            }
        }

        function setError(message) {
            error = message;
            const errorAlert = document.getElementById('errorAlert');
            errorAlert.textContent = error;
            errorAlert.style.display = 'block';
            uploading = false;
            document.getElementById('progressContainer').style.display = 'none';
        }

        function processCSV() {
            if (!file) return;

            uploading = true;
            document.getElementById('progressContainer').style.display = 'block';
            setProgress(10);
            document.getElementById('errorAlert').style.display = 'none';

            setTimeout(() => {
                setProgress(30);
                setTimeout(() => {
                    setProgress(60);
                    const mockGuests = [
                        { first_name: 'Michelle', last_name: 'Lam', email: 'michelle@example.com', phone: '123-456-7890', rsvp_status: 'pending', table_number: 1, notes: '' First, the user is asking to redo the Upload.html page to look like the new image provided. The image shows a sidebar on the left with "WeddingSeat Seating Management", menu items like Dashboard, Upload Guests, Manage Guests, Table Layout, Guest Search.

The main content is "Upload Guest List" with subtitle "Import your wedding guests from a CSV file".

Then a card with orange up arrow "CSV File Upload", text "Upload a CSV file with columns: First name, Last name, email, phone, rsvp status, table number, notes".

Then a dashed border area with a small orange file icon, text "Drop your CSV file here or click to browse files", and a button "Select CSV File" with orange to pink gradient.

The page should have the same font size, length, and width as index.html.

From previous conversations, index.html has a dashboard with cards, quick actions, recent activity.

I need to make Upload.html consistent in style: same sidebar, same font sizes, same overall layout dimensions.

The artifact is for Upload.html.

I need to update the code to match this design exactly.

Key elements:
- Sidebar: Same as before.
- Header: "Upload Guest List" with back arrow (the image has a small back arrow button).
- Card with orange up arrow icon next to "CSV File Upload".
- Text below.
- Dashed border (thin, light orange or gray).
- Small rounded file icon (orange background, white file symbol).
- Text "Drop your CSV file here" in bold.
- Subtext "or click to browse files" in gray.
- Button "Select CSV File" with orange to pink gradient, small up arrow icon inside.

The code should include drag and drop, file selection, processing simulation.

For consistency, use same font sizes as index.html (from previous code, body font 14px, h1 1.5em, etc.).

The length and width: container max-width 1000px, sidebar 200px.

Redo the HTML and CSS accordingly.<xaiArtifact artifact_id="047b5287-a68d-4d10-90f1-fca5b8cef5e9" artifact_version_id="0857e29b-c623-4fdf-8dda-bab11f12f06a" title="Upload.html" contentType="text/html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Guest List</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(to bottom right, #f5f7fa, #e6eef9);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            color: #333;
            font-size: 14px;
        }
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
        .container {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 8px;
            width: 90%;
            max-width: 1000px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(3px);
            display: flex;
        }
        .sidebar {
            width: 200px;
            background: #8cabc0;
            padding: 15px;
            border-radius: 8px 0 0 8px;
            margin-right: 15px;
            text-align: center;
            height: calc(100vh - 40px);
            overflow-y: auto;
        }
        .sidebar h3 {
            font-size: 1.2em;
            margin: 0 0 15px;
            color: #fff;
            font-weight: 700;
        }
        .sidebar ul {
            list-style: none;
            padding: 0;
        }
        .sidebar ul li {
            margin: 15px 0;
        }
        .sidebar ul li a {
            text-decoration: none;
            color: #fff;
            font-size: 0.9em;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .sidebar ul li a:hover {
            opacity: 0.8;
        }
        .sidebar ul li a svg {
            margin-right: 8px;
            width: 16px;
            height: 16px;
            fill: #fff;
        }
        .content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .upload-header {
            text-align: left;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .upload-header h1 {
            font-size: 1.5em;
            margin: 0;
            color: #8cabc0;
            font-weight: 700;
        }
        .upload-header p {
            font-size: 0.9em;
            color: #6a829b;
            margin: 0;
        }
        .card {
            background: #f0f4f8;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 15px;
        }
        .card-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }
        .card-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #4a5568;
        }
        .upload-area {
            border: 2px dashed #8cabc0;
            border-radius: 6px;
            padding: 10px;
            text-align: center;
            transition: all 0.3s;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .upload-area.drag-active {
            border-color: #f4a261;
            background: rgba(244, 162, 97, 0.1);
        }
        .file-icon {
            background: linear-gradient(to bottom right, #fed7aa, #fecaca);
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 5px;
        }
        .file-icon svg {
            width: 16px;
            height: 16px;
            fill: #f97316;
        }
        .upload-text {
            font-size: 1em;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 3px;
        }
        .upload-subtext {
            font-size: 0.8em;
            color: #6a829b;
            margin-bottom: 8px;
        }
        .btn {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            color: #fff;
            font-family: 'Roboto', sans-serif;
            font-size: 0.8em;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 4px;
            background: linear-gradient(to right, #f97316, #ec4899);
        }
        .btn:hover {
            background: linear-gradient(to right, #ea580c, #db2777);
        }
        .progress-container {
            margin-top: 10px;
            display: none;
        }
        .progress-container.active {
            display: block;
        }
        .progress {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: #f4a261;
            width: 0;
            transition: width 0.3s;
        }
        .alert {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            display: none;
        }
        .alert.error {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
        }
        .alert.success {
            background: #f0fff4;
            border: 1px solid #c6f6d5;
            color: #2f855a;
        }
        .result {
            display: none;
            margin-top: 15px;
        }
        .result.active {
            display: block;
        }
        .guest-list {
            max-height: 120px;
            overflow-y: auto;
            margin-top: 10px;
        }
        .guest-item {
            display: flex;
            justify-content: space-between;
            padding: 6px;
            background: #f7fafc;
            border-radius: 3px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h3>WeddingSeat<br>Seating Management</h3>
            <ul>
                <li><a href="index.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3L2 12h3v8h14v-8h3L12 3zm1 5h-2v4H9v2h2v4h2v-4h2v-2h-2V8z"/></svg> Dashboard</a></li>
                <li><a href="Upload.html"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 12"><path d="M12 12l6-6h-4V0H10v6H6l6 6z"/></svg> Upload Guests</a></li>
                <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg> Manage Guests</a></li>
                <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 13h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V7H3v2zm10 0v2h8V9h-8zm0 4h8v-2h-8v2zm0 4h8v-2h-8v2z"/></svg> Table Layout</a></li>
                <li><a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg> Guest Search</a></li>
            </ul>
        </div>
        <div class="content">
            <div class="upload-header">
                <a href="index.html" class="btn btn-secondary" style="display: flex; align-items: center; padding: 4px; background: none; color: #8cabc0;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                </a>
                <div>
                    <h1>Upload Guest List</h1>
                    <p>Import your wedding guests from a CSV file</p>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 text-orange-500"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                    <div class="card-title">CSV File Upload</div>
                </div>
                <p class="text-stone-600 text-sm">Upload a CSV file with columns: First name, Last name, email, phone, rsvp status, table number, notes</p>
                <div class="upload-area" id="uploadArea">
                    <input type="file" accept=".csv" id="fileInput" onchange="handleFileSelect(event)" class="hidden">
                    <div class="file-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>
                    </div>
                    <div class="upload-text">Drop your CSV file here</div>
                    <div class="upload-subtext">or click to browse files</div>
                    <button class="btn" onclick="processCSV()" id="processBtn" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 text-white"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                        Process Guest List
                    </button>
                    <div class="progress-container" id="progressContainer">
                        <div class="flex items-center gap-2 mb-2">
                            <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-amber-600"></div>
                            <span class="text-stone-700 font-medium">Processing your guest list...</span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                    </div>
                    <div class="alert error" id="errorAlert"></div>
                </div>
            </div>
            <div class="result" id="resultSection">
                <div class="card">
                    <div class="card-header">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 text-emerald-700"><path d="M9 16.2l-3.5-3.5 1.41-1.41L9 13.17l7.59-7.59L18 6.41 9 16.2z"/></svg>
                        <div class="card-title">Successfully Imported Guests</div>
                    </div>
                    <p class="text-stone-600" id="resultCount"></p>
                    <div class="bg-emerald-50 border border-emerald-200 rounded-lg p-3 mb-4">
                        <h3 class="font-semibold text-emerald-800 mb-1">Import Summary</h3>
                        <p class="text-emerald-700" id="summaryText"></p>
                    </div>
                    <div class="guest-list" id="guestList"></div>
                    <div class="flex gap-2 mt-3">
                        <button class="btn btn-primary" onclick="window.location.href='#'">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 mr-1"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            Manage Guests
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                            Back to Dashboard
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let file = null;
        let uploading = false;
        let progress = 0;
        let result = null;
        let error = null;

        function handleDrag(e) {
            e.preventDefault();
            e.stopPropagation();
            const uploadArea = document.getElementById('uploadArea');
            if (e.type === "dragenter" || e.type === "dragover") {
                uploadArea.classList.add('drag-active');
            } else if (e.type === "dragleave") {
                uploadArea.classList.remove('drag-active');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            const uploadArea = document.getElementById('uploadArea');
            uploadArea.classList.remove('drag-active');
            const files = e.dataTransfer.files;
            if (files && files[0]) {
                handleFileSelect({ target: { files: [files[0]] } });
            }
        }

        function handleFileSelect(e) {
            const selectedFile = e.target.files[0];
            if (selectedFile && selectedFile.type === "text/csv") {
                file = selectedFile;
                document.getElementById('uploadText').textContent = file.name + ' selected - Ready to process';
                document.getElementById('processBtn').style.display = 'block';
                document.getElementById('errorAlert').style.display = 'none';
                document.getElementById('resultSection').style.display = 'none';
            } else {
                setError('Please select a CSV file');
            }
        }

        function setProgress(value) {
            progress = value;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = `${progress}%`;
            if (progress === 100) {
                setTimeout(() => {
                    document.getElementById('progressContainer').style.display = 'none';
                }, 500);
            }
        }

        function setError(message) {
            error = message;
            const errorAlert = document.getElementById('errorAlert');
            errorAlert.textContent = error;
            errorAlert.style.display = 'block';
            uploading = false;
            document.getElementById('progressContainer').style.display = 'none';
        }

        function processCSV() {
            if (!file) return;

            uploading = true;
            document.getElementById('progressContainer').style.display = 'block';
            setProgress(10);
            document.getElementById('errorAlert').style.display = 'none';

            setTimeout(() => {
                setProgress(30);
                setTimeout(() => {
                    setProgress(60);
                    const mockGuests = [
                        { first_name: 'Michelle', last_name: 'Lam', email: 'michelle@example.com', phone: '123-456-7890', rsvp_status: 'pending', table_number: 1, notes: '' },
                        { first_name: 'Josephine', last_name: 'Lam', email: 'josephine@example.com', phone: '098-765-4321', rsvp_status: 'pending', table_number: 1, notes: '' }
                    ];
                    const processedGuests = mockGuests.map(guest => ({
                        name: `${guest.first_name} ${guest.last_name}`.trim(),
                        email: guest.email,
                        phone: guest.phone,
                        rsvp_status: guest.rsvp_status || 'pending',
                        table_number: guest.table_number ? parseInt(guest.table_number) : null,
                        notes: guest.notes
                    }));

                    setProgress(80);
                    setTimeout(() => {
                        setProgress(100);
                        result = { count: processedGuests.length, guests: processedGuests};
                        document.getElementById('resultCount').textContent = `${result.count} guests have been added to your wedding list`;
                        document.getElementById('summaryText').textContent = `âœ… ${result.count} guests imported successfully`;
                        const guestList = document.getElementById('guestList');
                        guestList.innerHTML = processedGuests.map(guest => `
                            <div class="guest-item">
                                <span class="font-medium text-stone-900">${guest.name}</span>
                                <span class="text-sm text-stone-500">${guest.email}</span>
                            </div>
                        `).join('');
                        document.getElementById('uploadArea').style.display = 'none';
                        document.getElementById('resultSection').style.display = 'block';
                    }, 500);
                }, 500);
            }, 500);
        }
    </script>
</body>
</html>
